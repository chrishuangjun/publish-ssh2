(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e14838ee"],{"22cd":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("m-content",{staticClass:"home-page",attrs:{"has-header":!1}},[n("div",{staticClass:"need-pay text-right"},[t._v("需支付:"+t._s(t._f("formatMoney")(t.toPayAmt)))]),n("div",{staticClass:"platform-name"},[n("i",{staticClass:"iconfont icon-camera mr-10"}),t._v("\n      美的云付\n    ")]),t._l(t.products,function(e,a){return n("div",{key:e.name,staticClass:"product",class:[a===t.products.length-1?"last-item":""]},[n("div",{staticClass:"product-title"},[n("i",{staticClass:"iconfont icon-home mr-10"}),n("span",[t._v(t._s(e.name))]),n("i",{class:["iconfont fr",t.prodActiveIndex===a?"icon-selected":"icon-un-selected"],on:{click:function(e){return t.selectedProduct(a)}}}),n("div",{staticClass:"credit-tips"},[t._v("("+t._s(t.hasCredit?"可用额度"+t.creditAmtStr:"最高可贷100万，马上申请，费率仅0.8%每月")+")")])]),e.plans&&e.plans.length>0?n("div",{staticClass:"product-content"},t._l(e.plans,function(e,s){return n("div",{key:e,staticClass:"content-item",class:{active:t.products[a].planIndex===s},on:{click:function(e){return t.selectedPlan(a,s)}}},[t._v(t._s(e))])}),0):t._e()])}),n("div",{staticClass:"footer"},[n("div",{staticClass:"btn-group"},[n("button",{staticClass:"btn btn-md btn-blue btn-radius",on:{click:function(e){return t.submitHandler(!0)}}},[t._v(t._s(t.btnText))])]),n("div",{staticClass:"remark"},[t._v("\n        更多信息可进入\n        "),n("router-link",{staticClass:"link",attrs:{to:"/account/accountCertified"}},[t._v("账户中心")])],1)])],2)],1)},s=[],o=n("cebc"),i=n("5176"),r=n.n(i),c=n("d225"),u=n("b0b4"),d=n("308d"),l=n("6bb5"),f=n("4e2b"),h=n("9ab4"),p=n("60a3"),v=n("4bb5"),m=n("b970"),b=n("e6c7"),y=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(d["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.hasCredit=!1,t.toPayAmt=0,t.prodActiveIndex=0,t.userType="ent",t.personProducts=[{name:"美的分期",plans:["1666.67元*3期含服务费67.00/期 费率0.8%","1699.67元*3期含服务费67.00/期 费率0.8%","1668.67元*3期含服务费67.00/期 费率0.8%","1664.67元*3期含服务费67.00/期 费率0.8%"],planIndex:0},{name:"银行卡支付"},{name:"余额支付"}],t.entProducts=[{name:"美E贷",totalQuota:0,leftQuota:0,useQuota:0}],t}return Object(f["a"])(e,t),Object(u["a"])(e,[{key:"selectedProduct",value:function(t){console.log(t);var e=this.products[this.prodActiveIndex];e.hasOwnProperty("planIndex")&&(e.planIndex=-1),this.prodActiveIndex=t}},{key:"selectedPlan",value:function(t,e){console.log(t,e);var n=this.products[t];n.planIndex=e,0!==this.prodActiveIndex&&(this.prodActiveIndex=0)}},{key:"submitHandler",value:function(){"ent"===this.userType?this.hasCredit?this.leftQuota<this.toPayAmt?Object(m["e"])("您的可用额度不足"):this.$router.push({path:"/wx/useMoney/apply",query:{availableQuota:this.leftQuota,toPayAmt:this.toPayAmt}}):this.$router.push("/certify/idCardOCR"):"person"===this.userType&&console.log(this.$store)}},{key:"fetchEQuota",value:function(){var t=this;this.$get(this.api.fetchQuota,{username:"SG000065501"}).then(function(e){console.log("res:",e),t.entProducts=[r()(t.entProducts[0],{totalQuota:+e.data.totalQuota,leftQuota:+e.data.leftQuota,useQuota:+e.data.useQuota})]})}},{key:"fetchToPayAmt",value:function(){var t=this;console.log("获取待支付金额"),this.$get(this.api.fetchOrderInfo,{username:"SG000065501"}).then(function(e){console.log("获取订单信息：",e),t.toPayAmt=e.data.amount,t.setOrderInfo(Object(o["a"])({},e.data))})}},{key:"fetchCreditStatus",value:function(){var t=this;this.$get(this.api.fetchCreditStatus,{username:"SG000065501"}).then(function(e){console.log("美E贷是否授信：",e),t.hasCredit="true"===e.data||!1,t.hasCredit&&t.fetchEQuota()})}},{key:"created",value:function(){this.fetchToPayAmt(),this.fetchCreditStatus()}},{key:"mounted",value:function(){console.log("mounted")}},{key:"leftQuota",get:function(){var t=this.products[this.prodActiveIndex];return t.leftQuota?t.leftQuota:0}},{key:"products",get:function(){return"person"===this.userType?this.personProducts:this.entProducts}},{key:"creditAmtStr",get:function(){return b["a"].formatMoney(this.leftQuota)}},{key:"btnText",get:function(){return this.hasCredit?"确定":"下一步"}}]),e}(p["d"]);h["a"]([Object(v["c"])("setOrderInfo")],y.prototype,"setOrderInfo",void 0),y=h["a"]([p["a"]],y);var C=y,g=C,k=(n("960b"),n("2877")),P=Object(k["a"])(g,a,s,!1,null,"7f178790",null);e["default"]=P.exports},"4bb5":function(t,e,n){"use strict";var a=n("65d9"),s=n("2f62"),o=u("computed",s["e"]),i=u("computed",s["c"]),r=u("methods",s["b"]),c=u("methods",s["d"]);function u(t,e){function n(n,s){return Object(a["createDecorator"])(function(a,o){a[t]||(a[t]={});var i,r=(i={},i[o]=n,i);a[t][o]=void 0!==s?e(s,r)[o]:e(r)[o]})}function s(t,e){if("string"===typeof e){var a=e,s=t;return n(a,void 0)(s,a)}var o=d(e),i=t;return n(i,o)}return s}function d(t){var e=t&&t.namespace;if("string"===typeof e)return"/"!==e[e.length-1]?e+"/":e}n.d(e,"d",function(){return o}),n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"c",function(){return c})},"960b":function(t,e,n){"use strict";var a=n("c35a"),s=n.n(a);s.a},c35a:function(t,e,n){}}]);